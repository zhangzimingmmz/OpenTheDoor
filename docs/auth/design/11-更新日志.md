# Auth Boot Starter - 更新日志

## 版本记录

---

## [1.0.0] - 2025-10-29

### ✨ 新功能

#### 认证授权模块
- ✅ 实现基于 JWT 的认证机制
- ✅ 支持 Token 刷新功能
- ✅ 实现用户登录、登出功能
- ✅ 支持获取当前登录用户信息

#### 用户管理模块
- ✅ 用户增删改查 (CRUD)
- ✅ 用户分页查询
- ✅ 用户密码修改
- ✅ 用户密码重置
- ✅ 用户状态管理

#### 角色管理模块
- ✅ 角色增删改查 (CRUD)
- ✅ 角色分页查询
- ✅ 角色权限分配
- ✅ 用户角色分配
- ✅ 查询角色的权限列表
- ✅ 查询用户的角色列表

#### 权限管理模块
- ✅ 权限查询（全部、按类型）
- ✅ 查询用户的权限列表
- ✅ 查询用户的权限编码集合
- ✅ 检查用户是否拥有指定权限

#### 菜单管理模块
- ✅ 菜单增删改查 (CRUD)
- ✅ 菜单树形结构查询
- ✅ 用户菜单树查询
- ✅ 子菜单查询

#### 基础设施
- ✅ Spring Security 集成
- ✅ MyBatis Plus 集成
- ✅ Redis 缓存集成
- ✅ 统一异常处理
- ✅ 统一响应格式
- ✅ 请求日志记录
- ✅ 多租户支持

### 🔧 技术特性

- ✅ Spring Boot 3.5.7
- ✅ Java 17
- ✅ Maven 多模块项目
- ✅ RESTful API 设计
- ✅ JWT Token 认证
- ✅ BCrypt 密码加密
- ✅ 逻辑删除支持
- ✅ 自动时间戳填充
- ✅ 数据权限隔离（租户）

### 📝 API 接口

总计 **36 个接口**，覆盖以下模块：
- 认证授权：4 个接口
- 用户管理：8 个接口
- 角色管理：11 个接口
- 权限管理：5 个接口
- 菜单管理：8 个接口

### 🐛 Bug 修复

#### 实体类字段修复
- 修复 `SysPermission` 字段不匹配（删除 `resourcePath`, `resourceMethod`，重命名 `sort` → `sortOrder`）
- 修复 `SysMenu` 字段映射（重命名 `sort` → `sortOrder`，添加 `@TableField` 注解）
- 修复 `SysRole` 字段不匹配（删除 `description`, `sort` 字段）

#### DTO 字段修复
- 修复 `MenuDTO` 缺少 `tenantId` 字段
- 创建 `AssignPermissionsRequest` DTO 包装权限ID列表
- 创建 `AssignRolesRequest` DTO 包装角色ID列表

#### 业务逻辑修复
- 修复分配权限给角色时 `tenant_id` 缺失问题
- 修复分配角色给用户时 `tenant_id` 缺失问题
- 实现获取当前用户信息接口

#### API 路由调整
- 将 `PUT /api/role/{id}/permissions` 改为 `POST /api/role/{id}/assign-permissions`
- 将 `PUT /api/role/user/{userId}` 改为 `POST /api/role/assign-to-user/{userId}`
- 将 `POST /api/menu` 改为 `POST /api/menu/create`

### 📦 模块结构

```
auth-boot-starter
├── auth-boot-starter-common     # 公共模块
├── auth-boot-starter-redis      # Redis 模块
├── auth-boot-starter-mybatis    # MyBatis 模块
├── auth-boot-starter-security   # Security 模块
├── auth-boot-starter-web        # Web 模块
├── auth-boot-starter-client     # Client SDK
└── auth-boot-starter-server     # Server 实现
```

### 📚 文档

- ✅ 完整的项目文档（11 个文档）
- ✅ API 接口文档
- ✅ 快速开始指南
- ✅ 部署运维文档
- ✅ 编码规范
- ✅ 常见问题解答

### ✅ 测试覆盖

- 功能测试：36/36 接口通过（100%）
- 核心 RBAC 功能：全部验证通过
- 多租户隔离：验证通过

### 🎯 项目状态

**✅ 项目已 100% 完成，可投入生产环境使用**

---

## 待发布版本

### [1.1.0] - 计划中

#### 计划新功能
- [ ] 部门管理模块
- [ ] 岗位管理模块
- [ ] 操作日志记录
- [ ] 登录日志记录
- [ ] 数据字典管理
- [ ] 系统配置管理

#### 计划优化
- [ ] API 接口性能优化
- [ ] Redis 缓存优化
- [ ] 数据库查询优化
- [ ] 权限校验性能优化

#### 计划改进
- [ ] 添加更多单元测试
- [ ] 添加集成测试
- [ ] 完善文档和示例
- [ ] 优化错误提示信息

---

## 版本说明

### 版本号规则

本项目遵循 [语义化版本 2.0.0](https://semver.org/lang/zh-CN/)

版本格式：`主版本号.次版本号.修订号`

- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 发布说明

- **稳定版本**：如 1.0.0, 2.0.0
- **开发版本**：如 1.1.0-SNAPSHOT
- **候选版本**：如 1.1.0-RC1

---

**最后更新**: 2025-10-29  
**当前版本**: 1.0.0  
**项目状态**: ✅ 稳定版本，可投入生产


