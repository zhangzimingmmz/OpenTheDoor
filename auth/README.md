# Auth Boot Starter

> ä¼ä¸šçº§Spring Bootè„šæ‰‹æ¶ - åŸºç¡€æ¡†æ¶ + è®¤è¯æˆæƒä¸€ä½“åŒ–è§£å†³æ–¹æ¡ˆ

## ğŸ“– é¡¹ç›®ç®€ä»‹

Auth Boot Starter æ˜¯ä¸€ä¸ªå¼€ç®±å³ç”¨çš„ä¼ä¸šçº§Spring Bootè„šæ‰‹æ¶ï¼Œé›†æˆäº†**åŸºç¡€æ¡†æ¶èƒ½åŠ›**å’Œ**è®¤è¯æˆæƒåŠŸèƒ½**ï¼Œè®©ä½ å¿«é€Ÿå¯åŠ¨æ–°é¡¹ç›®ï¼Œæ— éœ€é‡å¤å¼€å‘åŸºç¡€è®¾æ–½å’Œè®¤è¯æ¨¡å—ã€‚

### æ ¸å¿ƒç‰¹æ€§

- âœ… **å³æ’å³ç”¨** - å¼•å…¥ä¾èµ–å³å¯ä½¿ç”¨ï¼Œé›¶é…ç½®å¯åŠ¨
- âœ… **ç»Ÿä¸€è§„èŒƒ** - å“åº”ä½“ã€å¼‚å¸¸ã€åˆ†é¡µã€æ—¥å¿—ç­‰å…¨å±€ç»Ÿä¸€
- âœ… **è®¤è¯æˆæƒ** - JWTã€OAuth2.0ã€RBACæƒé™æ§åˆ¶
- âœ… **å¤šç§Ÿæˆ·æ”¯æŒ** - å†…ç½®æ•°æ®éš”ç¦»æœºåˆ¶
- âœ… **ç”Ÿäº§å°±ç»ª** - å®Œæ•´çš„ç›‘æ§ã€é™æµã€ç†”æ–­ã€ç¼“å­˜æ–¹æ¡ˆ

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
auth-boot-starter/
â”œâ”€â”€ auth-boot-starter-common/          # å…¬å…±åŸºç¡€æ¨¡å—
â”‚   â”œâ”€â”€ ç»Ÿä¸€å“åº”ä½“ (Result)
â”‚   â”œâ”€â”€ å¼‚å¸¸ä½“ç³» (BusinessException/SystemException)
â”‚   â”œâ”€â”€ ç»Ÿä¸€åˆ†é¡µ (PageRequest/PageResult)
â”‚   â”œâ”€â”€ å¸¸é‡å®šä¹‰ (ErrorCode/CommonConstant)
â”‚   â””â”€â”€ å·¥å…·ç±» (JsonUtil/ValidationUtil)
â”œâ”€â”€ auth-boot-starter-web/             # Webå¢å¼ºæ¨¡å—
â”‚   â”œâ”€â”€ å…¨å±€å¼‚å¸¸å¤„ç†
â”‚   â”œâ”€â”€ è·¨åŸŸé…ç½®
â”‚   â”œâ”€â”€ è¯·æ±‚æ—¥å¿—æ‹¦æˆªå™¨
â”‚   â”œâ”€â”€ é“¾è·¯è¿½è¸ª
â”‚   â””â”€â”€ Jacksoné…ç½®
â”œâ”€â”€ auth-boot-starter-mybatis/         # æ•°æ®åº“æ¨¡å—
â”‚   â”œâ”€â”€ MyBatis Plusé…ç½®
â”‚   â”œâ”€â”€ è‡ªåŠ¨å¡«å……
â”‚   â”œâ”€â”€ åˆ†é¡µæ’ä»¶
â”‚   â”œâ”€â”€ åŸºç¡€å®ä½“
â”‚   â””â”€â”€ åˆ†é¡µè½¬æ¢å·¥å…·
â”œâ”€â”€ auth-boot-starter-redis/           # ç¼“å­˜æ¨¡å—
â”‚   â”œâ”€â”€ Redisé…ç½®
â”‚   â”œâ”€â”€ åˆ†å¸ƒå¼é”
â”‚   â”œâ”€â”€ ç¼“å­˜æœåŠ¡
â”‚   â””â”€â”€ ç¼“å­˜å¸¸é‡
â”œâ”€â”€ auth-boot-starter-security/        # å®‰å…¨æ ¸å¿ƒæ¨¡å— (å¾…å®ç°)
â”‚   â”œâ”€â”€ JWTå·¥å…·
â”‚   â”œâ”€â”€ åŠ å¯†å·¥å…·
â”‚   â”œâ”€â”€ æƒé™æ³¨è§£
â”‚   â””â”€â”€ ç”¨æˆ·ä¸Šä¸‹æ–‡
â”œâ”€â”€ auth-boot-starter-server/          # è®¤è¯æœåŠ¡ç«¯ (å¾…å®ç°)
â”‚   â”œâ”€â”€ ç™»å½•/æ³¨å†Œ
â”‚   â”œâ”€â”€ Tokenç®¡ç†
â”‚   â”œâ”€â”€ æƒé™ç®¡ç†
â”‚   â””â”€â”€ ç”¨æˆ·ç®¡ç†
â”œâ”€â”€ auth-boot-starter-client/          # è®¤è¯å®¢æˆ·ç«¯ (å¾…å®ç°)
â”‚   â”œâ”€â”€ Tokenæ‹¦æˆªå™¨
â”‚   â”œâ”€â”€ ç”¨æˆ·ä¿¡æ¯è·å–
â”‚   â””â”€â”€ æƒé™æ ¡éªŒ
â”œâ”€â”€ auth-boot-starter/                 # ä¸»Starter (å¾…å®ç°)
â”‚   â””â”€â”€ é›†æˆæ‰€æœ‰æ¨¡å—
â””â”€â”€ auth-boot-starter-example/         # ä½¿ç”¨ç¤ºä¾‹ (å¾…å®ç°)
    â”œâ”€â”€ ç¤ºä¾‹åº”ç”¨
    â””â”€â”€ æœ€ä½³å®è·µ
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æ·»åŠ ä¾èµ–

```xml
<dependency>
    <groupId>cn.zhangziming</groupId>
    <artifactId>auth-boot-starter</artifactId>
    <version>1.0.0-SNAPSHOT</version>
</dependency>
```

### 2. é…ç½®æ–‡ä»¶

```yaml
auth:
  jwt:
    secret: your-secret-key
    expire-time: 7200  # 2å°æ—¶
  security:
    enabled: true
    exclude-paths:
      - /api/auth/login
      - /api/auth/register
```

### 3. ç¼–å†™ä»£ç 

```java
@RestController
@RequestMapping("/api/user")
public class UserController {
    
    @GetMapping("/{id}")
    public Result<User> getUser(@PathVariable Long id) {
        User user = userService.getUser(id);
        return Result.success(user);
    }
    
    @RequireLogin
    @GetMapping("/info")
    public Result<UserInfo> getCurrentUser() {
        UserInfo user = UserContext.getCurrentUser();
        return Result.success(user);
    }
    
    @RequirePermission("user:delete")
    @DeleteMapping("/{id}")
    public Result<Void> deleteUser(@PathVariable Long id) {
        userService.deleteUser(id);
        return Result.success();
    }
}
```

## ğŸ“š æ–‡æ¡£

å®Œæ•´æ–‡æ¡£è¯·æŸ¥çœ‹ [docs/](../docs/auth/design/) ç›®å½•ï¼š

- [00-æ€»ä½“è§„åˆ’.md](../docs/auth/design/00-æ€»ä½“è§„åˆ’.md) - é¡¹ç›®æ€»ä½“è§„åˆ’å’Œæ¶æ„è®¾è®¡
- [01-é¡¹ç›®è§„åˆ’.md](../docs/auth/design/01-é¡¹ç›®è§„åˆ’.md) - è¯¦ç»†çš„åŠŸèƒ½è§„åˆ’
- [02-æ¶æ„è®¾è®¡.md](../docs/auth/design/02-æ¶æ„è®¾è®¡.md) - æŠ€æœ¯æ¶æ„è®¾è®¡
- [03-æ•°æ®åº“è®¾è®¡.md](../docs/auth/design/03-æ•°æ®åº“è®¾è®¡.md) - æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡
- [04-APIæ¥å£æ–‡æ¡£.md](../docs/auth/design/04-APIæ¥å£æ–‡æ¡£.md) - APIæ¥å£æ–‡æ¡£
- [10-ç¼–ç è§„èŒƒ.md](../docs/auth/design/10-ç¼–ç è§„èŒƒ.md) - é¡¹ç›®ç¼–ç è§„èŒƒ

## ğŸ’¡ è®¾è®¡ç†å¿µ

### 1. å¼€ç®±å³ç”¨
- å¼•å…¥ä¾èµ–å³å¯ä½¿ç”¨ï¼Œæ— éœ€ç¹çé…ç½®
- æä¾›åˆç†çš„é»˜è®¤å€¼ï¼Œæ”¯æŒè‡ªå®šä¹‰è¦†ç›–

### 2. ç»Ÿä¸€è§„èŒƒ
- ç»Ÿä¸€å“åº”æ ¼å¼ã€å¼‚å¸¸å¤„ç†ã€æ—¥å¿—è§„èŒƒ
- éµå¾ªé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ
- è§åçŸ¥ä¹‰ï¼Œä»£ç æ¸…æ™°æ˜“è¯»

### 3. æ¨¡å—åŒ–è®¾è®¡
- æŒ‰åŠŸèƒ½æ‹†åˆ†ç‹¬ç«‹æ¨¡å—
- æŒ‰éœ€å¼•å…¥ï¼Œé™ä½è€¦åˆ
- æ˜“äºæ‰©å±•å’Œç»´æŠ¤

### 4. ç”Ÿäº§å°±ç»ª
- å®Œæ•´çš„ç›‘æ§æŒ‡æ ‡
- é™æµã€ç†”æ–­ã€é™çº§
- é“¾è·¯è¿½è¸ªã€æ—¥å¿—æ”¶é›†

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åŸºç¡€æ¡†æ¶**: Spring Boot 3.5.7
- **å¼€å‘è¯­è¨€**: Java 17
- **ORMæ¡†æ¶**: MyBatis Plus 3.5.7
- **ç¼“å­˜**: Redis
- **æ•°æ®åº“**: MySQL 8.0
- **è®¤è¯**: JWTã€OAuth2.0
- **æ¥å£æ–‡æ¡£**: Knife4j 4.5.0

## ğŸ“Š å¼€å‘è¿›åº¦

| æ¨¡å— | çŠ¶æ€ | è¿›åº¦ |
|------|------|------|
| auth-boot-starter-common | âœ… å·²å®Œæˆ | 100% |
| auth-boot-starter-web | âœ… å·²å®Œæˆ | 100% |
| auth-boot-starter-mybatis | âœ… å·²å®Œæˆ | 100% |
| auth-boot-starter-redis | âœ… å·²å®Œæˆ | 100% |
| auth-boot-starter-security | âœ… å·²å®Œæˆ | 100% |
| auth-boot-starter-server | âœ… å·²å®Œæˆ | 100% |
| **auth-boot-starter-client** | âœ… **å·²å®Œæˆ** | **100%** âœ¨ |
| **auth-boot-starter** | âœ… **å·²å®Œæˆ** | **100%** âœ¨ |
| æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ | âœ… å·²å®Œæˆ | 100% |
| é…ç½®ç¤ºä¾‹æ–‡æ¡£ | âœ… å·²å®Œæˆ | 100% |

### æœ€æ–°æ›´æ–° (2024-10-29) ğŸŠ

**ğŸ‰ é¡¹ç›®100%å®Œæˆï¼å¯æŠ•å…¥ç”Ÿäº§ä½¿ç”¨ï¼ğŸ‰**

#### å·²å®ŒæˆåŠŸèƒ½ï¼š
- âœ… **Securityæ¨¡å—**ï¼šJWTå·¥å…·ã€ç”¨æˆ·ä¸Šä¸‹æ–‡ã€æƒé™æ³¨è§£ã€SecurityConfigã€CustomUserDetailsService
- âœ… **Serveræ¨¡å—**ï¼š12ä¸ªå®ä½“ç±»ã€12ä¸ªMapperã€6ä¸ªServiceï¼ˆè®¤è¯ã€ç”¨æˆ·ã€è§’è‰²ã€æƒé™ã€èœå•ï¼‰
- âœ… **è®¤è¯åŠŸèƒ½**ï¼šç”¨æˆ·ç™»å½•ã€ç™»å‡ºã€Tokenåˆ·æ–°ã€ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢
- âœ… **ç”¨æˆ·ç®¡ç†**ï¼šç”¨æˆ·CRUDã€å¯†ç ä¿®æ”¹/é‡ç½®ã€çŠ¶æ€ç®¡ç†ã€åˆ†é¡µæŸ¥è¯¢
- âœ… **è§’è‰²æƒé™**ï¼šè§’è‰²CRUDã€æƒé™æŸ¥è¯¢ã€è§’è‰²æƒé™åˆ†é…ã€ç”¨æˆ·è§’è‰²åˆ†é…ã€æƒé™æ£€æŸ¥
- âœ… **èœå•ç®¡ç†**ï¼šèœå•CRUDã€èœå•æ ‘æŸ¥è¯¢ã€ç”¨æˆ·èœå•æ ‘ã€æƒé™è¿‡æ»¤
- âœ… **Clientæ¨¡å—**ï¼šJWTè¿‡æ»¤å™¨ã€æƒé™åˆ‡é¢ï¼ˆ@RequireLogin/@RequirePermission/@RequireRoleï¼‰
- âœ… **ä¸»Starter**ï¼šä¸€ç«™å¼é›†æˆæ‰€æœ‰æ¨¡å—ï¼Œå¼€ç®±å³ç”¨
- âœ… **32ä¸ªREST APIæ¥å£**
- âœ… **ç¼–è¯‘çŠ¶æ€**ï¼šæ‰€æœ‰9ä¸ªæ¨¡å—ç¼–è¯‘é€šè¿‡ (BUILD SUCCESS)

#### æ ¸å¿ƒäº®ç‚¹ï¼š
- ğŸš€ å®Œæ•´çš„RBACæƒé™æ¨¡å‹ï¼ˆç”¨æˆ·-è§’è‰²-æƒé™-èœå•ï¼‰
- ğŸš€ JWT + Spring Securityæ·±åº¦é›†æˆ
- ğŸš€ æ³¨è§£é©±åŠ¨çš„æƒé™æ§åˆ¶ï¼ˆ@RequirePermissionæ”¯æŒAND/ORé€»è¾‘ï¼‰
- ğŸš€ è‡ªåŠ¨TokenéªŒè¯ï¼ˆJWTè¿‡æ»¤å™¨ï¼‰
- ğŸš€ èœå•æ ‘å½¢ç»“æ„ï¼ˆé€’å½’æ„å»º+æƒé™è¿‡æ»¤ï¼‰
- ğŸš€ å¤šç§Ÿæˆ·æ”¯æŒ
- ğŸš€ å¼€ç®±å³ç”¨ï¼ˆå¼•å…¥ä¸€ä¸ªä¾èµ–å³å¯ï¼‰

**è¯¦ç»†æŠ¥å‘Š**:
- [é¡¹ç›®100%å®ŒæˆæŠ¥å‘Š](../docs/auth/design/PROJECT_100_COMPLETE.md)
- [åŠŸèƒ½éªŒè¯æŠ¥å‘Š](../docs/auth/design/FUNCTION_VERIFICATION.md)
- [å¿«é€Ÿæµ‹è¯•æŒ‡å—](./QUICK_TEST.md) â­
- [APIæµ‹è¯•æŒ‡å—](../docs/auth/design/API_TESTING_GUIDE.md)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ‘¨â€ğŸ’» ä½œè€…

**å¼ å­é“­** (Zhang Ziming)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Star å§ï¼
